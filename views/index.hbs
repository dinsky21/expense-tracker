<!-- ./views/index.handlebars -->
<div class="container mt-5 justify-content-center">

  <!-- search bar -->
  <div class="container search-bar col-md-8">
    <div class="row">
      <div class="search-bar-outer">
        <div class="search-bar-inner d-flex justify-content-around align-items-end">
          <form action="/search" class="col-md-6 ms-4">
            <h4 class="mb-2 text-dark">關鍵字查詢</h4>
            <div class="input-group">
              <input
                type="text"
                name="keyword"
                class="form-control"
                placeholder="輸入支出名稱"
                aria-label="Restaurant Name..."
                value="{{keyword}}"
                aria-describedby="search-button"
              />
              <div class="input-group-append">
                <button class="btn btn-primary" type="submit" id="search-button">
                  <i class="fa-solid fa-magnifying-glass py-1"></i>
                </button>
              </div>
            </div>
          </form> 
            <div class="dropdown mb-3">
              <button class="btn btn-primary dropdown-toggle mx-3" type="button" id="dropdownMenu" data-bs-toggle="dropdown" aria-expanded="false">
                類別
              </button>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
                <li><a href="/traffic" class="dropdown-item" type="button">交通</a></li>
                <li><a href="/food" class="dropdown-item" type="button">飲食</a></li>
                <li><a href="/entertainment" class="dropdown-item" type="button">娛樂</a></li>
                <li><a href="/education" class="dropdown-item" type="button">教育</a></li>
              </ul>
            </div> 
            <div>
              <a class='btn btn-primary mb-3' href='/expenses/new'><i
                class='fa-solid fa-plus pe-1'></i>新增支出</a>
            </div>      
          </div> 
        
      </div>
    </div>
  </div>
    

<!-- restaurant list -->

<div class="container mt-4">
  {{!-- <div class="row justify-content-center mb-4">
    <a class="btn btn-outline-major col-md-7" href='/restaurants/new'><i class="fa-solid fa-plus px-1"></i>Create New Restaurant</a>
  </div> --}}
  
  <div class="row">
    <div class="col-md-10 col-12 mx-auto">
      <div class="row row-cols-sm-4 d-flex justify-content-center">
        {{#each restaurants}}
          {{!-- <a href="/restaurants/{{this._id}}" class="text-secondary"> --}}
            <div class="card m-2 p-0">
              <span class="position-absolute top-0 end-0 badge rounded-pill bg-danger fs-6 m-1">
                {{this.rating}}<i class="fa-regular fa-star fa-xs px-1"></i></span>
              <img class="card-img-top" src="{{this.image}}" alt="{{this.name}}">
              
              <div class="card-body p-3">
                <h6 class="card-title mb-1">{{this.name}}</h6>

                <div class="restaurant-category mb-1">
                  <i class="fas fa-utensils pr-2"></i> {{this.category}}
                </div>
                <div class="restaurant-category mb-1">
                  <i class="fas fa-location-arrow pr-2"></i> {{this.area}}
                </div>
              </div>
              <div class="card-footer m-0 px-2">
                <ul id="card">
                  <li>
                    <a class="btn btn-outline-major btn-sm" href='/restaurants/{{this._id}}/edit'>Edit</a>
                    <a class="btn btn-outline-major btn-sm" href='/restaurants/{{this._id}}'>Detail</a>
                    <form
                    action='/restaurants/{{this._id}}?_method=DELETE'
                    method='post'
                    style='display: inline;'
                    ><button class="btn btn-outline-major btn-sm"type='submit'>Delete</button></form>
                  </li>
                </ul>
              </div>
            </div>
            
          {{!-- </a> --}}
          
        {{/each}}
      </div>
    </div>
  </div>
</div>